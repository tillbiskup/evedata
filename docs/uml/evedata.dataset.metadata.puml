@startuml

class Metadata {
    measurement : Measurement
    file : File
    devices : Device{}
}

enum Section {
    STANDARD
    SNAPSHOT
    MONITOR
    META
}
note right: This is defined in the\nevefile.metadata module\nas well. Generalise?
Metadata -[hidden]>Section

class Dataset
note bottom: See separate diagram\nfor class hierarchy

class Measurement {
    start : datetime
    end : datetime
    location : string
    preferred_axis : string
    preferred_channel : string
    preferred_normalisation_channel : string
}

class File {
    filename : string
    h5_version : string
    eve_version : string
    xml_version: string
}

class Device {
    id : string
    name : string
    pv : string
    transport_type : string
    section : Section
}

class Motor {
}

class Detector {
    normalise_id : string
}

class AverageDetector {
    n_averages : int
    low_limit : float
    max_attempts : int
    max_deviation : float
}

class IntervalDetector {
    trigger_interval : float
}

class Monitor {
}

Dataset -* Metadata
Metadata *-- Measurement
Metadata "1" *-- "n" Device
Metadata *-- File

Device <|-- Motor
Device <|-- Detector
Device <|-- Monitor

Detector <|-- AverageDetector
Detector <|-- IntervalDetector

@enduml