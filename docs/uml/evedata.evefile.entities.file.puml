@startuml

class File {
    metadata : Metadata
    log_messages : LogMessage[]
    scan : Scan
    station : Station
    scan_modules : ScanModules{}
    snapshots : Data{}
    monitors : Data{}
    position_timestamps : TimestampData
}

File *-- "n" ScanModule
File *-- "n" Data

class Metadata{
    filename : string
    eveh5_version : string
    eve_version : string
    xml_version: string
    measurement_station : string
    start : datetime
    end : datetime
    description : string
    simulation : boolean
    preferred_axis : string
    preferred_channel : string
    preferred_normalisation_channel : string
}

class LogMessage {
    timestamp : datetime
    message : string
}


class ScanModule {
    name : string
    id : int
    parent : int
    appended : int
    nested : int
    data : Data{}
}

ScanModule *-- "n" Data
note right of Data: See diagram for\ndata module.

class Scan extends scan.boundaries.scan.Scan {
    author : string
    filename : string
}
'note left: See diagrams for\nscan subpackage.

class Station extends scan.boundaries.scan.Station {
    filename : string
}

File *-- Metadata
File "1" *-- "n" LogMessage
File *-- Scan
File *-- Station

@enduml
