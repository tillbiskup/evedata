@startuml

class File {
    metadata : Metadata
    comments : Comment[]
    scan : Scan
    data : Data[]
    snapshots : Data[]
    monitors : Data[]
}
note left of File::snapshots
    Snapshot datasets can have
    identical names/IDs to datasets
    in the standard section.
    This makes a separate list
    probably unavoidable.

    How to deal with monitors?
end note

File *-- "n" Data
note bottom: See diagram for\ndata module.

class Metadata{
    filename : string
    h5_version : string
    eve_version : string
    xml_version: string
    measurement_station : string
    start : datetime
    end : datetime
    preferred_axis : string
    preferred_channel : string
    preferred_normalisation_channel : string
}

class Comment {
    timestamp : datetime
    comment : string
}
note bottom of Comment
    Comments are both, file comment
    and log messages. Discriminating
    could be done in the File class.
end note

class Scan extends scan.boundaries.Scan {
    author : string
}
note right: See diagrams for\nscan subpackage.

File *-- Metadata
File "1" *-- "n" Comment
File *-- Scan

@enduml
